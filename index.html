<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Firebase Test</title>
</head>
<body>
  <h1>Firebase Connection Test</h1>

  <!-- We use type="module" so ES imports work in the browser -->
  <script type="module">
    // 1) Import the Firebase functions
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
    import { 
      getFirestore, 
      doc, 
      getDoc, 
      setDoc 
    } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";

    // 2) Your real Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDjhyIwTDLkPRt8Erw3_VszEfcnbSkHhOw",
      authDomain: "neonpulse-7e6aa.firebaseapp.com",
      projectId: "neonpulse-7e6aa",
      storageBucket: "neonpulse-7e6aa.firebasestorage.app",
      messagingSenderId: "77649154549",
      appId: "1:77649154549:web:0d538d42159749162810bc"
    };

    // 3) Initialize Firebase & Firestore
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // 4) Quick test: write/read a doc
    async function testFirestore() {
      try {
        const testRef = doc(db, "testCollection", "testDoc");
        // Write some data
        await setDoc(testRef, { timestamp: Date.now() });
        console.log("Wrote test doc to Firestore!");

        // Read it back
        const docSnap = await getDoc(testRef);
        if (docSnap.exists()) {
          console.log("Read back from Firestore:", docSnap.data());
        } else {
          console.log("No doc found!");
        }
      } catch (err) {
        console.error("Error in testFirestore:", err);
      }
    }

    testFirestore();
  </script>
</body>
</html>
