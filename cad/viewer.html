<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<title>FILE PICK TEST</title>
<style>
  html,body{
    margin:0;
    background:#111;
    color:#fff;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  }
  #topbar{
    background:#000a;
    padding:1rem;
    display:flex;
    gap:.75rem;
    align-items:center;
    flex-wrap:wrap;
    position:fixed;
    top:0;left:0;right:0;
    z-index:10;
  }
  .btn{
    background:#2a2a2a;
    border:1px solid #444;
    border-radius:6px;
    padding:.6rem .8rem;
    font-size:.9rem;
    font-weight:500;
    color:#fff;
    cursor:pointer;
  }
  #status{
    font-size:.8rem;
    color:#9e9e9e;
    line-height:1.4;
    word-break:break-word;
    flex:1;
    min-width:200px;
  }
  #fileInput{
    position:absolute;
    left:-9999px;
    width:1px;
    height:1px;
    opacity:0;
  }
</style>
</head>
<body>

<div id="topbar">
  <button id="chooseBtn" class="btn">Choose 3D file</button>
  <div id="status">No file loaded</div>
</div>

<input id="fileInput" type="file" />

<script>
  const chooseBtn = document.getElementById('chooseBtn');
  const fileInput = document.getElementById('fileInput');
  const statusBox = document.getElementById('status');

  // when you tap the visible button
  chooseBtn.addEventListener('click', () => {
    statusBox.textContent = 'Opening picker...';
    fileInput.value = '';
    fileInput.click();
  });

  // when you actually pick a file
  fileInput.addEventListener('change', () => {
    // does the browser think we picked something?
    const count = fileInput.files.length;

    if (count === 0) {
      statusBox.textContent = 'Picker closed, but browser returned 0 files.';
      return;
    }

    const f = fileInput.files[0];
    statusBox.textContent =
      `Got ${count} file(s): ` +
      `"${f.name}" ` +
      `size=${f.size} bytes ` +
      `type=${f.type || '(no mime)'}`;
  });
</script>

</body>
</html>
